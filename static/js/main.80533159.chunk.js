(this["webpackJsonpredux-talk"]=this["webpackJsonpredux-talk"]||[]).push([[0],{200:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"CHARACTER_GET",(function(){return R})),n.d(r,"CHARACTER_GET_SUCCESS",(function(){return b})),n.d(r,"CHARACTER_GET_FAILURE",(function(){return _})),n.d(r,"CHARACTER_GET_ALL",(function(){return T})),n.d(r,"CHARACTER_GET_ALL_SUCCESS",(function(){return p})),n.d(r,"CHARACTER_GET_ALL_FAILURE",(function(){return O})),n.d(r,"FILTER_CHARACTERS",(function(){return v})),n.d(r,"default",(function(){return L}));var c={};n.r(c),n.d(c,"getCharacter",(function(){return x})),n.d(c,"getCharacterSuccess",(function(){return S})),n.d(c,"getCharacterFailure",(function(){return g})),n.d(c,"getAll",(function(){return H})),n.d(c,"getAllSuccess",(function(){return k})),n.d(c,"getAllFailure",(function(){return G})),n.d(c,"filterCharacters",(function(){return w}));var a={};n.r(a),n.d(a,"getById",(function(){return Y})),n.d(a,"getByStatus",(function(){return Z}));var u=n(12),s=n(0),i=n(23),o=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,203)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,u=e.getTTFB;n(t),r(t),c(t),a(t),u(t)}))},l=n(25),d=n(16),C=n(85),A=n(17);var E=function(t){var e=t.children;return Object(u.jsx)(d.b,{children:e})};var h=function(t){var e=t.children;return Object(u.jsx)(E,{children:e})},j=n(87);function f(t){if(!t)return null;return{Alive:"success",unknown:"primary",Dead:"danger"}[t]}var R="@CHARACTER_GET",b="@CHARACTER_GET_SUCCESS",_="@CHARACTER_GET_FAILURE",T="@CHARACTER_GET_ALL",p="@CHARACTER_GET_ALL_SUCCESS",O="@CHARACTER_GET_ALL_FAILURE",v="@FILTER_CHARACTERS",L={CHARACTER_GET:R,CHARACTER_GET_SUCCESS:b,CHARACTER_GET_FAILURE:_,CHARACTER_GET_ALL:T,CHARACTER_GET_ALL_SUCCESS:p,CHARACTER_GET_ALL_FAILURE:O,FILTER_CHARACTERS:v},x=function(t){return{type:r.CHARACTER_GET,id:t}},S=function(t){return{type:r.CHARACTER_GET_SUCCESS,payload:t}},g=function(t){return{type:r.CHARACTER_GET_FAILURE,error:t}},H=function(t){return{type:r.CHARACTER_GET_ALL,page:t}},k=function(t){return{type:r.CHARACTER_GET_ALL_SUCCESS,payload:t}},G=function(t){return{type:r.CHARACTER_GET_ALL_FAILURE,error:t}},w=function(t){return{type:r.FILTER_CHARACTERS,status:t}},y=n(18),m=n.n(y),F=n(26),I=n(61),U=n(62),B=n.n(U),D="https://rickandmortyapi.com/api/character",q=function(){var t=Object(I.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.get(D,{params:{page:e}}).then((function(t){return t.data})).catch((function(t){throw t.response}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(I.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.get("".concat(D,"/").concat(e)).then((function(t){return t.data})).catch((function(t){throw t.response}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=m.a.mark(J),P=m.a.mark(X),z=m.a.mark(V);function J(t){var e,n;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.id,r.prev=1,r.next=4,Object(F.a)(N,e);case 4:return n=r.sent,r.next=7,Object(F.c)(c.getCharacterSuccess(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(F.c)(c.getCharacterFailure(r.t0.data.error));case 13:case"end":return r.stop()}}),M,null,[[1,9]])}function X(t){var e,n;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.page,r.prev=1,r.next=4,Object(F.a)(q,e);case 4:return n=r.sent,r.next=7,Object(F.c)(c.getAllSuccess(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(F.c)(c.getAllFailure(r.t0.data.error));case 13:case"end":return r.stop()}}),P,null,[[1,9]])}function V(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(F.d)(r.CHARACTER_GET,J);case 2:return t.next=4,Object(F.d)(r.CHARACTER_GET_ALL,X);case 4:case"end":return t.stop()}}),z)}var K=n(84),Q={list:{isRequest:!0,status:"all",statusById:{},idList:{all:[],alive:[],dead:[],unknown:[]},hasNext:null}};function W(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(K.a)(t,(function(n){switch(e.type){case r.CHARACTER_GET_ALL:n.list.isRequest=!0;break;case r.CHARACTER_GET_ALL_SUCCESS:n.list.isRequest=!1,n.list.pages=e.payload.info.pages,n.list.hasNext=e.payload.info.next,e.payload.results.forEach((function(t){n.list.idList.all.push(t.id),n.list.statusById[t.id]=t,"Alive"===t.status&&n.list.idList.alive.push(t.id),"Dead"===t.status&&n.list.idList.dead.push(t.id),"unknown"===t.status&&n.list.idList.unknown.push(t.id)}));break;case r.CHARACTER_GET_ALL_FAILURE:n.list.isRequest=!1,n.list.error=e.error;break;case r.FILTER_CHARACTERS:n.list.status=e.status;break;default:return t}}))}var Y=function(t,e){return t.statusById[e]},Z=function(t){var e=t.status,n=t.idList,r=t.statusById,c=n[e],a=[];return c.forEach((function(t){a.push(r[t].id)})),a},$=Object(s.memo)((function(t){var e=t.id,n=Object(l.d)((function(t){return a.getById(t.character.list,e)}),l.b);return Object(u.jsxs)(d.h.Row,{children:[Object(u.jsx)(d.h.Cell,{children:n.name}),Object(u.jsx)(d.h.Cell,{children:Object(u.jsx)(d.i,{palette:f(n.status),children:n.status})})]},e)}));var tt=function(t){var e=t.handleLoadMore,n=Object(l.d)((function(t){return t.character.list}),l.b),r=n.isLoading,c=n.isRequest,s=Object(l.d)((function(t){return a.getByStatus(t.character.list)}),l.b);return r?Object(u.jsx)(d.f,{}):Object(u.jsxs)(d.h,{hasDividers:!0,isHoverable:!0,children:[Object(u.jsx)(d.h.Head,{children:Object(u.jsxs)(d.h.Row,{children:[Object(u.jsx)(d.h.HeadCell,{children:"Name"}),Object(u.jsx)(d.h.HeadCell,{children:"Status"})]})}),Object(u.jsx)(d.h.Body,{children:s.map((function(t){return Object(u.jsx)($,{id:t},t)}))}),Object(u.jsx)(d.h.Foot,{children:Object(u.jsxs)(d.h.Row,{children:[Object(u.jsx)(d.h.Cell,{}),Object(u.jsx)(d.h.Cell,{textAlign:"right",children:Object(u.jsx)(d.a,{size:"small",isLoading:c,onClick:e,children:"Load more"})})]})})]})};var et=function(t){var e=t.handleFilter,n=[{name:"All",value:"all",onClick:e},{name:"Alive",value:"alive",onClick:e},{name:"Dead",value:"dead",onClick:e},{name:"Unknown",value:"unknown",onClick:e}];return Object(u.jsx)(d.c,{children:n.map((function(t){var e=t.name,n=t.value,r=t.onClick;return Object(u.jsx)(d.a,{size:"small",onClick:function(){return r(n)},children:e},n)}))})};var nt=function(){var t=Object(l.c)(),e=Object(s.useState)(1),n=Object(j.a)(e,2),r=n[0],a=n[1];Object(s.useEffect)((function(){t(c.getAll(r))}),[t,r]);var i=Object(s.useCallback)((function(){a(r+1)}),[r]),o=Object(s.useCallback)((function(e){t(c.filterCharacters(e))}),[t]);return Object(u.jsx)(d.d,{children:Object(u.jsxs)(d.g,{children:[Object(u.jsx)(et,{handleFilter:o}),Object(u.jsx)(tt,{handleLoadMore:i})]})})};var rt=function(){return Object(u.jsx)(C.a,{children:Object(u.jsx)(h,{children:Object(u.jsx)(A.c,{children:Object(u.jsx)(A.a,{exact:!0,path:"/",component:nt})})})})},ct=function(t){var e=t.store;return Object(u.jsx)(l.a,{store:e,children:Object(u.jsx)(d.e,{children:Object(u.jsx)(rt,{})})})},at=n(21),ut=n(28),st=n(88),it=n(86),ot=function(){return Object(ut.c)({character:W})},lt=m.a.mark(dt);function dt(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(F.b)(V);case 2:case"end":return t.stop()}}),lt)}Object(at.a)();var Ct=function(t){var e=Object(st.a)({sagaMonitor:Object(it.a)({level:"log",actionDispatch:!0})}),n=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ut.d,r=[e],c=Object(ut.e)(ot(),t,n(ut.a.apply(void 0,r)));return e.run(dt),c}();Object(i.render)(Object(u.jsx)(ct,{store:Ct}),document.getElementById("root")),o()}},[[200,1,2]]]);
//# sourceMappingURL=main.80533159.chunk.js.map