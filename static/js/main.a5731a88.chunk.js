(this["webpackJsonpredux-talk"]=this["webpackJsonpredux-talk"]||[]).push([[0],{201:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"CHARACTER_GET",(function(){return b})),n.d(r,"CHARACTER_GET_SUCCESS",(function(){return _})),n.d(r,"CHARACTER_GET_FAILURE",(function(){return T})),n.d(r,"CHARACTER_GET_ALL",(function(){return O})),n.d(r,"CHARACTER_GET_ALL_SUCCESS",(function(){return p})),n.d(r,"CHARACTER_GET_ALL_FAILURE",(function(){return L})),n.d(r,"FILTER_CHARACTERS",(function(){return x})),n.d(r,"default",(function(){return v}));var a={};n.r(a),n.d(a,"getCharacter",(function(){return S})),n.d(a,"getCharacterSuccess",(function(){return H})),n.d(a,"getCharacterFailure",(function(){return g})),n.d(a,"getAll",(function(){return y})),n.d(a,"getAllSuccess",(function(){return G})),n.d(a,"getAllFailure",(function(){return m})),n.d(a,"filterCharacters",(function(){return k}));var c={};n.r(c),n.d(c,"getById",(function(){return Q})),n.d(c,"getByStatus",(function(){return W}));var u=n(12),s=n(0),i=n(23),o=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,204)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,u=e.getTTFB;n(t),r(t),a(t),c(t),u(t)}))},l=n(25),d=n(16),C=n(86),A=n(17),j=n(54);var E=function(t){var e=t.children;return Object(u.jsx)(d.b,{children:e})};var R=function(t){var e=t.children;return Object(u.jsxs)(E,{children:[Object(u.jsx)(j.a,{}),e]})},f=n(88);function h(t){if(!t)return null;return{Alive:"success",unknown:"primary",Dead:"danger"}[t]}var b="@CHARACTER_GET",_="@CHARACTER_GET_SUCCESS",T="@CHARACTER_GET_FAILURE",O="@CHARACTER_GET_ALL",p="@CHARACTER_GET_ALL_SUCCESS",L="@CHARACTER_GET_ALL_FAILURE",x="@FILTER_CHARACTERS",v={CHARACTER_GET:b,CHARACTER_GET_SUCCESS:_,CHARACTER_GET_FAILURE:T,CHARACTER_GET_ALL:O,CHARACTER_GET_ALL_SUCCESS:p,CHARACTER_GET_ALL_FAILURE:L,FILTER_CHARACTERS:x},S=function(t){return{type:r.CHARACTER_GET,id:t}},H=function(t){return{type:r.CHARACTER_GET_SUCCESS,payload:t}},g=function(t){return{type:r.CHARACTER_GET_FAILURE,error:t}},y=function(t){return{type:r.CHARACTER_GET_ALL,page:t}},G=function(t){return{type:r.CHARACTER_GET_ALL_SUCCESS,payload:t}},m=function(t){return{type:r.CHARACTER_GET_ALL_FAILURE,error:t}},k=function(t){return{type:r.FILTER_CHARACTERS,status:t}},F=n(18),w=n.n(F),I=n(28),U=n(62),B=n(63),D=n.n(B),N="https://rickandmortyapi.com/api/character",q=function(){var t=Object(U.a)(w.a.mark((function t(e){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.get(N,{params:{page:e}}).then((function(t){return t.data})).catch((function(t){throw t.response}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=w.a.mark(z),P=w.a.mark(J);function z(t){var e,n;return w.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.page,r.prev=1,r.next=4,Object(I.a)(q,e);case 4:return n=r.sent,r.next=7,Object(I.c)(a.getAllSuccess(n));case 7:r.next=15;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(I.c)(a.getAllFailure(r.t0.data.error));case 13:return r.next=15,Object(I.a)(j.b.error,r.t0.data.error);case 15:case"end":return r.stop()}}),M,null,[[1,9]])}function J(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(I.d)(r.CHARACTER_GET_ALL,z);case 2:case"end":return t.stop()}}),P)}var X=n(85),V={list:{isRequest:!0,status:"all",statusById:{},idList:{all:[],alive:[],dead:[],unknown:[]},hasNext:null}};function K(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(X.a)(t,(function(n){switch(e.type){case r.CHARACTER_GET_ALL:n.list.isRequest=!0;break;case r.CHARACTER_GET_ALL_SUCCESS:n.list.isRequest=!1,n.list.pages=e.payload.info.pages,n.list.hasNext=e.payload.info.next,e.payload.results.forEach((function(t){n.list.idList.all.push(t.id),n.list.statusById[t.id]=t,"Alive"===t.status&&n.list.idList.alive.push(t.id),"Dead"===t.status&&n.list.idList.dead.push(t.id),"unknown"===t.status&&n.list.idList.unknown.push(t.id)}));break;case r.CHARACTER_GET_ALL_FAILURE:n.list.isRequest=!1,n.list.error=e.error;break;case r.FILTER_CHARACTERS:n.list.status=e.status;break;default:return t}}))}var Q=function(t,e){return t.statusById[e]},W=function(t){var e=t.status,n=t.idList,r=t.statusById,a=n[e],c=[];return a.forEach((function(t){c.push(r[t].id)})),c},Y=Object(s.memo)((function(t){var e=t.id,n=Object(l.d)((function(t){return c.getById(t.character.list,e)}));return Object(u.jsxs)(d.h.Row,{children:[Object(u.jsx)(d.h.Cell,{children:n.name}),Object(u.jsx)(d.h.Cell,{children:Object(u.jsx)(d.i,{palette:h(n.status),children:n.status})})]},e)}));var Z=function(t){var e=t.onLoadMore,n=Object(l.d)((function(t){return t.character.list}),l.b),r=n.isLoading,a=n.isRequest,s=n.hasNext,i=Object(l.d)((function(t){return c.getByStatus(t.character.list)}));return r?Object(u.jsx)(d.f,{}):Object(u.jsxs)(d.h,{hasDividers:!0,isHoverable:!0,children:[Object(u.jsx)(d.h.Head,{children:Object(u.jsxs)(d.h.Row,{children:[Object(u.jsx)(d.h.HeadCell,{children:"Name"}),Object(u.jsx)(d.h.HeadCell,{children:"Status"})]})}),Object(u.jsx)(d.h.Body,{children:i.map((function(t){return Object(u.jsx)(Y,{id:t},t)}))}),Object(u.jsx)(d.h.Foot,{children:Object(u.jsxs)(d.h.Row,{children:[Object(u.jsx)(d.h.Cell,{}),Object(u.jsx)(d.h.Cell,{textAlign:"right",children:Object(u.jsx)(d.a,{size:"small",isLoading:a,disabled:!s,onClick:e,children:"Load more"})})]})})]})};var $=function(t){var e=t.onFilter,n=Object(l.d)((function(t){return t})).character;return Object(u.jsx)(d.c,{children:[{name:"All",value:"all"},{name:"Alive",value:"alive"},{name:"Dead",value:"dead"},{name:"Unknown",value:"unknown"}].map((function(t){var r=t.name,a=t.value;return Object(u.jsx)(d.a,{size:"small",palette:a===n.list.status?"primary":"default",onClick:function(){return e(a)},children:r},a)}))})};var tt=function(){var t=Object(l.c)(),e=Object(s.useState)(1),n=Object(f.a)(e,2),r=n[0],c=n[1];Object(s.useEffect)((function(){t(a.getAll(r))}),[t,r]);var i=Object(s.useCallback)((function(){c(r+1)}),[r]),o=Object(s.useCallback)((function(e){t(a.filterCharacters(e))}),[t]);return Object(u.jsx)(d.d,{children:Object(u.jsxs)(d.g,{children:[Object(u.jsx)($,{onFilter:o}),Object(u.jsx)(Z,{onLoadMore:i})]})})};var et=function(){return Object(u.jsx)(C.a,{basename:"redux-talk",children:Object(u.jsx)(R,{children:Object(u.jsx)(A.c,{children:Object(u.jsx)(A.a,{exact:!0,path:"/",component:tt})})})})},nt=function(t){var e=t.store;return Object(u.jsx)(l.a,{store:e,children:Object(u.jsx)(d.e,{children:Object(u.jsx)(et,{})})})},rt=n(21),at=n(27),ct=n(89),ut=n(87),st=function(){return Object(at.c)({character:K})},it=w.a.mark(ot);function ot(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(I.b)(J);case 2:case"end":return t.stop()}}),it)}Object(rt.a)();var lt=function(t){var e=Object(ct.a)({sagaMonitor:Object(ut.a)({level:"log",actionDispatch:!0})}),n=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||at.d,r=[e],a=Object(at.e)(st(),t,n(at.a.apply(void 0,r)));return e.run(ot),a}();Object(i.render)(Object(u.jsx)(nt,{store:lt}),document.getElementById("root")),o()}},[[201,1,2]]]);
//# sourceMappingURL=main.a5731a88.chunk.js.map